<mat-card class="task"
          [ngClass]="{'active':task.id===(selectedId$|async)}"
          *ngFor="let task of tasks$|async"
          (click)="selectTask(task)">
  <mat-card-header>
    <mat-card-title>
      {{task.title}} <span *ngIf="isShowFeedbackCount(task)">[{{task.taskContextData.taskFeedbackCount}}/{{task.participantsCount}}]</span>
    </mat-card-title>
    <span fxFlex></span>
    <span class="badge never-read" *ngIf="isShowNeverRead(task)">NEW</span>
    <span class="badge" *ngIf="isShowTaskFeedbackUnreadCount$(task)|async">{{task.taskOperatorContextData.taskFeedbackUnreadCount}}</span>
    <span class="badge" *ngIf="isShowTaskFeedbackCommentUnreadCount$(task)|async">{{task.taskOperatorContextData.taskFeedbackCommentUnreadCount}}</span>
  </mat-card-header>

  <mat-card-actions>
    <button mat-button type="button" (click)="updateTaskFeedback(task)" *ngIf="isShowFeedbackBtn$(task)|async">
      {{'BUTTON.TASKFEEDBACK'|translate}}
    </button>
  </mat-card-actions>
</mat-card>
